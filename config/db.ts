import { Pool } from 'pg';import { env } from './env.js';export const pool = new Pool({  connectionString: env.DATABASE_URL,  ssl: { rejectUnauthorized: false },});export async function initDb(): Promise<void> {  console.log('[DB wallet-service] init...');  await pool.query(`    CREATE TABLE IF NOT EXISTS users (      id BIGSERIAL PRIMARY KEY,      name TEXT NOT NULL,      status TEXT DEFAULT 'ACTIVE',      created_at TIMESTAMPTZ DEFAULT NOW()    );  `);  await pool.query(`    CREATE TABLE IF NOT EXISTS wallets (      id BIGSERIAL PRIMARY KEY,      user_id BIGINT REFERENCES users(id) ON DELETE CASCADE,      type TEXT NOT NULL,      currency TEXT NOT NULL DEFAULT 'BRL',      balance NUMERIC(18,2) NOT NULL DEFAULT 0,      created_at TIMESTAMPTZ DEFAULT NOW()    );  `);  await pool.query(`    CREATE TABLE IF NOT EXISTS ledger_entries (      id BIGSERIAL PRIMARY KEY,      wallet_id BIGINT REFERENCES wallets(id) ON DELETE CASCADE,      direction TEXT NOT NULL,      amount NUMERIC(18,2) NOT NULL,      description TEXT,      meta JSONB,      external_id TEXT NOT NULL,      created_at TIMESTAMPTZ DEFAULT NOW()    );  `);  await pool.query(`    CREATE TABLE IF NOT EXISTS gateway_transactions (      id BIGSERIAL PRIMARY KEY,      external_id TEXT UNIQUE,      provider TEXT,      amount NUMERIC(18,2),      status TEXT DEFAULT 'PENDING',      meta JSONB,      created_at TIMESTAMPTZ DEFAULT NOW()    );  `);  console.log('[DB wallet-service] ok.');}